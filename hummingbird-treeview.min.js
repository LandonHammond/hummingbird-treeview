(function(b){b.fn.hummingbird=function(e){var c=e;var d=arguments;var e=b.extend({},b.fn.hummingbird.defaults,e);if(typeof(c)=="undefined"){return this.each(function(){if(e.collapsedSymbol!="fa-plus"){b(this).find("i").removeClass("fa-plus").addClass(e.collapsedSymbol)}if(e.checkboxes=="disabled"){b(this).find("input:checkbox").hide()}if(e.collapseAll===false){b.fn.hummingbird.expandAll(b(this),e.collapsedSymbol,e.expandedSymbol)}var g=false;var f=new Object;if(e.checkDoubles){b(this).find("input:checkbox.hummingbirdNoParent").each(function(){if(f[b(this).attr("data-id")]){f[b(this).attr("data-id")].push(b(this).attr("id"))}else{f[b(this).attr("data-id")]=[b(this).attr("id")]}})}b.fn.hummingbird.ThreeStateLogic(b(this),g,f,e.checkDoubles,e.checkDisabled);b(this).on("click","li i."+e.collapsedSymbol,function(){b.fn.hummingbird.expandSingle(b(this),e.collapsedSymbol,e.expandedSymbol)});b(this).on("click","li i."+e.expandedSymbol,function(){b.fn.hummingbird.collapseSingle(b(this),e.collapsedSymbol,e.expandedSymbol)})})}if(c=="checkAll"){return this.each(function(){b.fn.hummingbird.checkAll(b(this))})}if(c=="uncheckAll"){return this.each(function(){b.fn.hummingbird.uncheckAll(b(this))})}if(c=="disableNode"){return this.each(function(){var g=d[1].name;var f=d[1].attr;var h=d[1].state;b.fn.hummingbird.disableNode(b(this),f,g,h)})}if(c=="enableNode"){return this.each(function(){var g=d[1].name;var f=d[1].attr;var h=d[1].state;b.fn.hummingbird.enableNode(b(this),f,g,h)})}if(c=="checkNode"){return this.each(function(){var g=d[1].name;var f=d[1].attr;var h=d[1].expandParents;b.fn.hummingbird.checkNode(b(this),f,g);if(h==true){b.fn.hummingbird.expandNode(b(this),f,g,h,e.collapsedSymbol,e.expandedSymbol)}})}if(c=="uncheckNode"){return this.each(function(){var g=d[1].name;var f=d[1].attr;var h=d[1].collapseChildren;b.fn.hummingbird.uncheckNode(b(this),f,g);if(h==true){b.fn.hummingbird.collapseNode(b(this),f,g,h,e.collapsedSymbol,e.expandedSymbol)}})}if(c=="setNodeColor"){return this.each(function(){var g=d[1];var f=d[2];var h=d[3];b.fn.hummingbird.setNodeColor(b(this),g,f,h)})}if(c=="collapseAll"){return this.each(function(){b.fn.hummingbird.collapseAll(b(this),e.collapsedSymbol,e.expandedSymbol)})}if(c=="expandAll"){return this.each(function(){b.fn.hummingbird.expandAll(b(this),e.collapsedSymbol,e.expandedSymbol)})}if(c=="expandNode"){return this.each(function(){var g=d[1].name;var f=d[1].attr;var h=d[1].expandParents;b.fn.hummingbird.expandNode(b(this),f,g,h,e.collapsedSymbol,e.expandedSymbol)})}if(c=="collapseNode"){return this.each(function(){var g=d[1].name;var f=d[1].attr;var h=d[1].collapseChildren;b.fn.hummingbird.collapseNode(b(this),f,g,h,e.collapsedSymbol,e.expandedSymbol)})}if(c=="getChecked"){return this.each(function(){var f=d[1].attr;var h=d[1].list;var g=d[1].OnlyFinalInstance;b.fn.hummingbird.getChecked(b(this),f,h,g)})}if(c=="getUnchecked"){return this.each(function(){var f=d[1].attr;var h=d[1].list;var g=d[1].OnlyFinalInstance;b.fn.hummingbird.getUnchecked(b(this),f,h,g)})}if(c=="search"){return this.each(function(){var k=d[1].treeview_container;var f=d[1].search_input;var l=d[1].search_output;var n=d[1].search_button;if(typeof d[1].dialog!=="undefined"){var m=d[1].dialog}else{var m=""}if(typeof d[1].enter_key_1!=="undefined"){var i=d[1].enter_key_1}else{var i=true}if(typeof d[1].enter_key_2!=="undefined"){var h=d[1].enter_key_2}else{var h=true}if(typeof d[1].scrollOffset!=="undefined"){var j=d[1].scrollOffset}else{var j=false}if(typeof d[1].OnlyFinalInstance!=="undefined"){var g=d[1].OnlyFinalInstance}else{var g=false}b.fn.hummingbird.search(b(this),k,f,l,n,m,i,h,e.collapsedSymbol,e.expandedSymbol,j,g)})}};b.fn.hummingbird.defaults={expandedSymbol:"fa-minus",collapsedSymbol:"fa-plus",collapseAll:true,checkboxes:"enabled",checkDoubles:false,checkDisabled:false};var a=true;b.fn.hummingbird.checkAll=function(c){c.children("li").children("label").children("input:checkbox").prop("indeterminate",false).prop("checked",false).trigger("click")};b.fn.hummingbird.uncheckAll=function(c){c.children("li").children("label").children("input:checkbox").prop("indeterminate",false).prop("checked",true).trigger("click")};b.fn.hummingbird.collapseAll=function(d,e,c){d.find("ul.collapsable").hide();d.find("."+c).removeClass(c).addClass(e)};b.fn.hummingbird.expandAll=function(d,e,c){d.find("ul.collapsable").show();d.find("."+e).removeClass(e).addClass(c)};b.fn.hummingbird.collapseSingle=function(d,e,c){d.parent("li").children("ul").hide();d.removeClass(c).addClass(e)};b.fn.hummingbird.expandSingle=function(d,e,c){d.parent("li").children("ul").show();d.removeClass(e).addClass(c)};b.fn.hummingbird.expandNode=function(e,d,g,h,j,c){var f=e.find("input["+d+"="+g+"]");var i=f.parent("label").siblings("ul.collapsable");i.show().siblings("i").removeClass(j).addClass(c);if(h===true){f.parents("ul.collapsable").show().siblings("i").removeClass(j).addClass(c)}};b.fn.hummingbird.collapseNode=function(e,d,g,j,i,c){var f=e.find("input["+d+"="+g+"]");var h=f.parent("label").siblings("ul.collapsable");if(j===true){f.parent("label").parent("li").find("ul.collapsable").hide().siblings("i").removeClass(c).addClass(i)}else{h.hide().siblings("i").removeClass(c).addClass(i)}};b.fn.hummingbird.checkNode=function(d,c,e){d.find("input:checkbox:not(:checked)["+c+"="+e+"]").prop("indeterminate",false).trigger("click")};b.fn.hummingbird.uncheckNode=function(d,c,e){d.find("input:checkbox:checked["+c+"="+e+"]").prop("indeterminate",false).trigger("click")};b.fn.hummingbird.disableNode=function(d,c,e,f){var g=d.find("input:checkbox:not(:disabled)["+c+"="+e+"]");g.prop("checked",f===false);a=true;g.trigger("click");g.parent("label").parent("li").find("input:checkbox").prop("disabled",true).parent("label").parent("li").css({color:"#c8c8c8"})};b.fn.hummingbird.enableNode=function(d,c,e,f){var g=d.find("input:checkbox:disabled["+c+"="+e+"]");g.prop("disabled",false).parent("label").parent("li").css({color:"#636b6f"});g.parent("label").parent("li").parents("li").children("label").children("input[type='checkbox']").prop("disabled",false).parents("label").parent("li").css({color:"#636b6f"});g.parent("label").parent("li").find("input:checkbox").prop("disabled",false).parent("label").parent("li").css({color:"#636b6f"});g.prop("checked",f===false);a=false;g.trigger("click")};b.fn.hummingbird.getChecked=function(d,c,f,e){if(e==true){d.find("input:checkbox.hummingbirdNoParent:checked").each(function(){f.push(b(this).attr(c))})}else{d.find("input:checkbox:checked").each(function(){f.push(b(this).attr(c))})}};b.fn.hummingbird.getUnchecked=function(d,c,f,e){if(e==true){d.find("input:checkbox.hummingbirdNoParent:not(:checked)").each(function(){f.push(b(this).attr(c))})}else{d.find("input:checkbox:not(:checked)").each(function(){f.push(b(this).attr(c))})}};b.fn.hummingbird.setNodeColor=function(e,d,c,f){e.find("input:checkbox["+d+"="+c+"]").parent("li").css({color:f})};b.fn.hummingbird.ThreeStateLogic=function(d,g,c,f,e){d.find("input:checkbox").on("click",function(m){var n=b(this).parent("label").parent("li").find("input:checkbox:not(:disabled)");var j=[];n.each(function(){j.push(b(this).attr("id"))});if(b(this).prop("checked")){var l=true;var k="input:checkbox:not(:checked)";d.trigger("nodeChecked",j.join())}else{var l=false;var k="input:checkbox:checked";d.trigger("nodeUnchecked",j.join())}n.prop("indeterminate",false).prop("checked",l);b(this).parent("label").parent().parents("li").children("label").children("input[type='checkbox']").prop("indeterminate",true);b(this).parent("label").parent().parents("li").children("label").children("input[type='checkbox']").prop("checked",false);b(this).parent("label").parents("li").map(function(){var q=0;var o=b(this).siblings().addBack().children("label").children(k).length;if(e){var p=b(this).siblings().addBack().children("label").children("input:checkbox:not(:disabled)").length}b(this).siblings().addBack().children("label").children("input:checkbox").map(function(){q=q+b(this).prop("indeterminate")});if((q+o)==0){b(this).parent().parent().children("label").children("input[type='checkbox']").prop("indeterminate",false);b(this).parent().parent().children("label").children("input[type='checkbox']").prop("checked",l)}if(e){if(a==true){p--;a=false}if(p==0){b(this).parent().parent().children("label").children("input[type='checkbox']").prop("disabled",true).parent("label").parent("li").css({color:"#c8c8c8"})}}});if(f){if(g==false){b(this).parent("label").parent("li").find("input.hummingbirdNoParent[type='checkbox']").each(function(){var o=c[b(this).attr("data-id")].length;if(o>1){g=true;var q=c[b(this).attr("data-id")];for(var p=0;p<o;p++){if(b("#"+q[p]).prop("checked")!=l){b("#"+q[p]).trigger("click")}}}});g=false}}if(e){if(b(this).hasClass("hummingbirdNoParent")===false){if(l===true){var i=b(this).parent("label").parent("li").find("input:checkbox:not(:checked):disabled");var h=b(this).parent("label").parent("li").find("input:checkbox:checked")}if(l===false){var i=b(this).parent("label").parent("li").find("input:checkbox:checked:disabled");var h=b(this).parent("label").parent("li").find("input:checkbox:not(:checked)")}if(i.length>0&&h.length>0){i.parent("label").parent("li").parents("li").children("label").children("input:checkbox:not(:disabled)").prop("indeterminate",true).prop("checked",l)}}}d.trigger("CheckUncheckDone")})};b.fn.hummingbird.search=function(p,j,c,k,o,l,h,g,n,m,i,f){b(document).keyup(function(q){if(q.which==13){if(h==g){b(l+" #"+o).trigger("click")}}});var e=true;var d={};b(l+" #"+c).on("click",function(q){b(l+" #"+k).hide()});b(l+" #"+o).on("click",function(s){b(l+" #"+k).show();var q=b(l+" #"+c).val().trim();b(l+" #"+k).empty();var r=0;if(f==true){var u=".hummingbirdNoParent"}else{var u=""}p.find("input:checkbox"+u).each(function(){if(b(this).parent().text().toUpperCase().includes(q.toUpperCase())){b(l+" #"+k).append('<li id="drop_'+b(this).attr("id")+'"><a href="#">'+b(this).parent().text()+"</a></li>");r++}});if(r==0){b(l+" #"+k).append("&nbsp; &nbsp; Nothing found")}b(l+" #"+k+" li").on("click",function(x){x.preventDefault();b(l+" #"+k).hide();b(l+" #"+c).val(b(this).text());if(e==false){if(d.prop("disabled")){d.parent("label").parent("li").css({color:"#c8c8c8"})}else{d.parent("label").parent("li").css({color:"#636b6f"})}}p.hummingbird("collapseAll");d=p.find('input[id="'+b(this).attr("id").substring(5)+'"]');var v=d.parents("ul.collapsable");v.closest("li").children("i").removeClass(n).addClass(m);d.parent("label").parent("li").css({color:"#f0ad4e"});e=false;v.show();if(j=="body"){document.body.scrollTop=0;document.documentElement.scrollTop=0}else{b(l+" #"+j)[0].scrollTop=0}var w=d.position().top;w=w+i;if(j=="body"){document.body.scrollTop+=w;document.documentElement.scrollTop+=w}else{b(l+" #"+j)[0].scrollTop=w}});if(r==1){var t=b("#"+k+" li").attr("id");b("#"+t).trigger("click")}})}})(jQuery);